<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='部署在github\r生成public\n1 hugo -D 进入public\n1 $ cd public/ 在github创建一个新的存储库github名字.github.io\n1 2 3 4 5 6 git init git add . git commit -m "首次提交" git branch -M main git remote add origin git@github.com:github名字/github名字.github.io.git git push -u origin main 自动部署脚本\n'><meta name=keywords content="github,云服务器,hugo,hexo"><title>博客部署</title><link rel=canonical href=https://sports0808008.github.io/post/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/><link rel=stylesheet href=/scss/style.min.581733ea72804e3cd63e152526fd7714f2276db977350a3475baecde71d8ffc5.css><meta property='og:title' content="博客部署"><meta property='og:description' content='部署在github\r生成public\n1 hugo -D 进入public\n1 $ cd public/ 在github创建一个新的存储库github名字.github.io\n1 2 3 4 5 6 git init git add . git commit -m "首次提交" git branch -M main git remote add origin git@github.com:github名字/github名字.github.io.git git push -u origin main 自动部署脚本\n'><meta property='og:url' content='https://sports0808008.github.io/post/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/'><meta property='og:site_name' content='小余同学'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='github'><meta property='article:tag' content='云服务器'><meta property='article:tag' content='hugo'><meta property='article:tag' content='hexo'><meta property='article:published_time' content='2025-09-08T15:58:32+08:00'><meta property='article:modified_time' content='2025-09-08T16:20:18+08:00'><meta property='og:image' content='https://sports0808008.github.io/img/a9.jpg'><meta name=twitter:title content="博客部署"><meta name=twitter:description content='部署在github\r生成public\n1 hugo -D 进入public\n1 $ cd public/ 在github创建一个新的存储库github名字.github.io\n1 2 3 4 5 6 git init git add . git commit -m "首次提交" git branch -M main git remote add origin git@github.com:github名字/github名字.github.io.git git push -u origin main 自动部署脚本\n'><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://sports0808008.github.io/img/a9.jpg'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_504b75484f607981.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>小余同学</a></h1><h2 class=site-description>穷则变,变则通,通则久</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/ target=_blank title=Bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/sports0808008 target=_blank title=GitHub rel=me><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://twitter.com/yourusername target=_blank title=Twitter rel=me><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>文章</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/page/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友链</span></a></li><li><a href=/page/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/categories/><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
<span>分类</span></a></li><li><a href=/tags/><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>标签</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#报错解决方案配置-ssh-密钥>报错解决方案：配置 SSH 密钥</a><ol><li><a href=#第1步生成-ssh-密钥>第1步：生成 SSH 密钥</a></li><li><a href=#第2步启动-ssh-代理并添加密钥>第2步：启动 SSH 代理并添加密钥</a></li><li><a href=#第3步复制公钥并添加到-github>第3步：复制公钥并添加到 GitHub</a></li><li><a href=#第4步测试连接>第4步：测试连接</a></li></ol></li></ol><ol><li><a href=#安装依赖工具包>安装依赖工具包</a></li><li><a href=#安装编译工具>安装编译工具</a></li><li><a href=#删除旧版本git>删除旧版本git</a></li><li><a href=#回到根目录>回到根目录</a></li><li><a href=#下载git到家目录>下载git到家目录</a></li><li><a href=#解压文件>解压文件</a></li><li><a href=#安装git>安装git</a></li><li><a href=#配置git环境变量>配置git环境变量</a></li></ol><ol><li><a href=#创建用户并设置密码>创建用户并设置密码</a></li><li><a href=#为用户分配权限>为用户分配权限</a></li><li><a href=#本地创建密钥>本地创建密钥</a></li><li><a href=#配置公钥>配置公钥</a></li><li><a href=#git仓库配置>git仓库配置</a></li><li><a href=#nginx配置>nginx配置</a></li><li><a href=#第二种方法安装nginx>第二种方法安装nginx</a></li><li><a href=#修改nginx转发配置>修改nginx转发配置</a></li><li><a href=#在hexo站点配置文件中配置>在hexo站点配置文件中配置</a></li></ol><ol><li><ol><li><ol><li><a href=#1-直接克隆指定端口57>1. <strong>直接克隆（指定端口57）</strong></a></li><li><a href=#2-如果克隆失败>2. <strong>如果克隆失败</strong></a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/><img src=/img/a9.jpg loading=lazy alt="Featured image of post 博客部署"></a></div><div class=article-details><header class=article-category><a href=/categories/hugo/ style=background-color:#2a9d8f;color:#fff>Hugo</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/>博客部署</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025年9月8日</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 11 分钟</time></div><footer class=article-wordcount><div><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg>
<span class=article-wordcount--count>字数: 5169</span></div></footer></footer></div></header><section class=article-content><h1 id=部署在github>部署在github</h1><p>生成public</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo -D
</span></span></code></pre></td></tr></table></div></div><p>进入public</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ <span class=nb>cd</span> public/
</span></span></code></pre></td></tr></table></div></div><p>在github创建一个新的存储库github名字.github.io</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git init 
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m &#34;首次提交&#34; 
</span></span><span class=line><span class=cl>git branch -M main 
</span></span><span class=line><span class=cl>git remote add origin git@github.com:github名字/github名字.github.io.git
</span></span><span class=line><span class=cl>git push -u origin main
</span></span></code></pre></td></tr></table></div></div><p>自动部署脚本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m========================================\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m   Hugo 站点部署工具 - GitHub Pages\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m========================================\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查是否在 Hugo 项目根目录</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -d <span class=s2>&#34;content&#34;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> ! -d <span class=s2>&#34;themes&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 错误：请在 Hugo 项目根目录运行此脚本\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;当前目录: </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;期望找到: content/ 或 themes/ 文件夹&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查 hugo 命令是否可用</span>
</span></span><span class=line><span class=cl><span class=k>if</span> ! <span class=nb>command</span> -v hugo <span class=p>&amp;</span>&gt; /dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 错误：找不到 hugo 命令，请确保已安装 Hugo\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. 构建静态文件</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[1/4] 🛠️  正在生成静态文件...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>hugo --minify
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -ne <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ Hugo 构建失败！请检查错误信息。\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> -p <span class=s2>&#34;按回车键继续...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 进入公共文件夹</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[2/4] 📁 进入公共文件夹...\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 初始化一个临时 Git 仓库用于部署</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[3/4] 📦 准备部署到 GitHub Pages...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 创建或清空 .git 目录（避免子模块问题）</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -d <span class=s2>&#34;.git&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    rm -rf .git
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 设置用户信息</span>
</span></span><span class=line><span class=cl>git config user.email <span class=s2>&#34;sports0808008@users.noreply.github.com&#34;</span>
</span></span><span class=line><span class=cl>git config user.name <span class=s2>&#34;sports0808008&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 确保使用 main 分支</span>
</span></span><span class=line><span class=cl>git checkout -b main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加所有文件</span>
</span></span><span class=line><span class=cl>git add --all .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 提交更改</span>
</span></span><span class=line><span class=cl><span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;🚀 自动部署：</span><span class=k>$(</span>date +<span class=s1>&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -gt <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$*</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. 推送到 GitHub Pages</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[4/4] ⬆️  推送到 GitHub Pages...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 直接推送到 main 分支（现在远程已经有这个分支了）</span>
</span></span><span class=line><span class=cl><span class=k>if</span> git push --force git@github.com:sports0808008/sports0808008.github.io.git main:main<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m✅ 部署成功！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;34m🌐 访问地址: https://sports0808008.github.io\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m⏰ 更新时间: </span><span class=k>$(</span>date +<span class=s1>&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 推送到 main 分支失败！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m正在尝试推送到 master 分支...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 尝试推送到 master 分支（备用方案）</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> git push --force git@github.com:sports0808008/sports0808008.github.io.git main:master<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m✅ 部署成功！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;34m🌐 访问地址: https://sports0808008.github.io\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m📝 注意：使用了 master 分支而不是 main 分支\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m⏰ 更新时间: </span><span class=k>$(</span>date +<span class=s1>&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 所有推送尝试都失败了！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m请检查以下可能的问题：\033[0m&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;1. GitHub 仓库权限是否正确&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;2. SSH 密钥是否已添加到 GitHub&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;3. 仓库名称是否正确: sports0808008/sports0808008.github.io&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 返回原始目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ..
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>read</span> -p <span class=s2>&#34;按回车键退出...&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=报错解决方案配置-ssh-密钥>报错解决方案：配置 SSH 密钥</h2><h3 id=第1步生成-ssh-密钥>第1步：生成 SSH 密钥</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>ssh-keygen -t ed25519 -C <span class=s2>&#34;你的邮箱地址&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>按回车使用默认保存路径 (<code>~/.ssh/id_ed25519</code>)</li><li>可以设置密码（推荐）或直接回车跳过</li></ul><h3 id=第2步启动-ssh-代理并添加密钥>第2步：启动 SSH 代理并添加密钥</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 启动 ssh-agent</span>
</span></span><span class=line><span class=cl><span class=nb>eval</span> <span class=s2>&#34;</span><span class=k>$(</span>ssh-agent -s<span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加 SSH 私钥到代理</span>
</span></span><span class=line><span class=cl>ssh-add ~/.ssh/id_ed25519
</span></span></code></pre></td></tr></table></div></div><h3 id=第3步复制公钥并添加到-github>第3步：复制公钥并添加到 GitHub</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 显示并复制公钥内容</span>
</span></span><span class=line><span class=cl>cat ~/.ssh/id_ed25519.pub
</span></span></code></pre></td></tr></table></div></div><p><strong>然后进行以下操作：</strong></p><ol><li>复制终端显示的全部内容（以 <code>ssh-ed25519 AAAAC3...</code> 开头）</li><li>登录 GitHub → 点击头像 → Settings → SSH and GPG keys</li><li>点击 &ldquo;New SSH key&rdquo;</li><li>Title 填写 &ldquo;My Windows PC&rdquo; 或其他标识</li><li>Key 类型选择 &ldquo;Authentication Key&rdquo;</li><li>在 Key 框中粘贴刚才复制的内容</li><li>点击 &ldquo;Add SSH key&rdquo;</li></ol><h3 id=第4步测试连接>第4步：测试连接</h3><p>ssh -T <a class=link href=mailto:git@github.com>git@github.com</a></p><p>如果看到 <code>Hi sports0808008! You've successfully authenticated...</code> 就说明成功了！</p><h1 id=部署在云服务器>部署在云服务器</h1><p>自动上传脚本：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m========================================\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m   Hugo 站点部署工具 - xtkyu.top\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;36m========================================\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 0. 更宽松的目录检查：检查是否存在 content 文件夹和 hugo 可执行文件</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -d <span class=s2>&#34;content&#34;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> ! -d <span class=s2>&#34;themes&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 错误：请在 Hugo 项目根目录运行此脚本\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;当前目录: </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;期望找到: content/ 或 themes/ 文件夹&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查 hugo 命令是否可用</span>
</span></span><span class=line><span class=cl><span class=k>if</span> ! <span class=nb>command</span> -v hugo <span class=p>&amp;</span>&gt; /dev/null<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 错误：找不到 hugo 命令，请确保已安装 Hugo\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 1. 构建静态文件</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[1/4] 🛠️  正在生成静态文件...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -ne <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ Hugo 构建失败！请检查错误信息。\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> -p <span class=s2>&#34;按回车键继续...&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 进入公共文件夹</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[2/4] 📁 进入公共文件夹...\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 智能Git配置：只在第一次运行时初始化</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[3/4] 📦 配置Git仓库...\033[0m&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -d <span class=s2>&#34;.git&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;初始化新的Git仓库并设置远程...&#34;</span>
</span></span><span class=line><span class=cl>    git init
</span></span><span class=line><span class=cl>    git remote add deploy ssh://tk@xtkyu.top:96/home/git/blog.git
</span></span><span class=line><span class=cl>    <span class=c1># 设置默认分支为master</span>
</span></span><span class=line><span class=cl>    git checkout -b master
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;使用现有的Git仓库&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># 确保远程仓库存在</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> ! git remote <span class=p>|</span> grep -q <span class=s2>&#34;deploy&#34;</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;添加远程仓库...&#34;</span>
</span></span><span class=line><span class=cl>        git remote add deploy ssh://tk@xtkyu.top:96/home/git/blog.git
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. 添加和提交所有更改</span>
</span></span><span class=line><span class=cl>git add --all .
</span></span><span class=line><span class=cl><span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;🚀 自动部署：</span><span class=k>$(</span>date +<span class=s1>&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -gt <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nv>msg</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$*</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;</span><span class=nv>$msg</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. 推送到服务器</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m[4/4] ⬆️  推送到服务器...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>git push --force deploy master:master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m✅ 部署成功！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;34m🌐 访问地址: http://xtkyu.top\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;32m⏰ 更新时间: </span><span class=k>$(</span>date +<span class=s1>&#39;%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;31m❌ 推送失败！\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;\033[1;33m正在尝试修复...\033[0m&#34;</span>
</span></span><span class=line><span class=cl>    git remote remove deploy 2&gt;/dev/null
</span></span><span class=line><span class=cl>    git remote add deploy ssh://tk@xtkyu.top:96/home/git/blog.git
</span></span><span class=line><span class=cl>    git push --force deploy master:master
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>read</span> -p <span class=s2>&#34;按回车键退出...&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=准备工作>准备工作</h1><p>已经搭建完毕的本地博客
一台windows/mac电脑
一台云服务器（本教程以腾讯云为例）
本地电脑安装一个ssh连接工具</p><h1 id=服务器上安装配置git>服务器上安装配置git</h1><h2 id=安装依赖工具包>安装依赖工具包</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel 
</span></span></code></pre></td></tr></table></div></div><h2 id=安装编译工具>安装编译工具</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yum install -y gcc perl-ExtUtils-MakeMaker package
</span></span></code></pre></td></tr></table></div></div><h2 id=删除旧版本git>删除旧版本git</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yum remove git -y
</span></span></code></pre></td></tr></table></div></div><h2 id=回到根目录>回到根目录</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=下载git到家目录>下载git到家目录</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>wget https://www.kernel.org/pub/software/scm/git/git-2.34.0.tar.gz --no-check-certificate
</span></span></code></pre></td></tr></table></div></div><p>如果提示没有wget命令，先安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yum install wget -y
</span></span></code></pre></td></tr></table></div></div><h2 id=解压文件>解压文件</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>tar -zxf git-2.34.0.tar.gz
</span></span></code></pre></td></tr></table></div></div><h2 id=安装git>安装git</h2><p>进入到git目录下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span> git-2.34.0
</span></span></code></pre></td></tr></table></div></div><p>编译(时间可能有点久，稍微等待一下)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>make all <span class=nv>prefix</span><span class=o>=</span>/usr/local/git
</span></span></code></pre></td></tr></table></div></div><p>安装git到/usr/local/git下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>make install <span class=nv>prefix</span><span class=o>=</span>/usr/local/git
</span></span></code></pre></td></tr></table></div></div><h2 id=配置git环境变量>配置git环境变量</h2><p>将git加入PATH目录中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;export PATH=$PATH:/usr/local/git/bin&#39;</span> &gt;&gt; /etc/bashrc
</span></span></code></pre></td></tr></table></div></div><p>使配置生效</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>source</span> /etc/bashrc
</span></span></code></pre></td></tr></table></div></div><p>查看git版本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git --version
</span></span></code></pre></td></tr></table></div></div><h1 id=创建用户配置ssh>创建用户配置SSH</h1><h2 id=创建用户并设置密码>创建用户并设置密码</h2><p>这里的<strong>tk</strong>改成你自己的用户名，并且为用户设置一个密码。</p><p>例如:<strong>tk</strong>是用户名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>adduser tk
</span></span><span class=line><span class=cl>passwd tk   <span class=c1># 注意是刚创建的用户名 tk</span>
</span></span><span class=line><span class=cl>然后按提示输入两次密码（输入时不会显示，正常现象）。
</span></span></code></pre></td></tr></table></div></div><h2 id=为用户分配权限>为用户分配权限</h2><p>把用户添加到wheel组</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>usermod tk -G wheel
</span></span></code></pre></td></tr></table></div></div><h2 id=本地创建密钥>本地创建密钥</h2><p>在本机电脑终端输入(cmd)：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>ssh-keygen -t rsa
</span></span></code></pre></td></tr></table></div></div><p>第一次回车后输入y后面就是一直回车了，新建一个密钥，注意如果之前你将你的本地hexo博客部署到GitHub的时候生成的那个密钥是不可用的在重新生成这个密钥，不然上传的时候就会出错。</p><p>一般来说在你创建的时候命令行会提示你密钥文件的路径，windows电脑一般是C:\Users\ASUS.ssh</p><p>复制id_rsa.pub文件中的内容备用。</p><h2 id=配置公钥>配置公钥</h2><p>回到服务器终端，切换用户</p><p>tk就是添加的用户</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>su - tk
</span></span></code></pre></td></tr></table></div></div><p>创建.ssh文件夹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkdir .ssh <span class=o>&amp;&amp;</span> chmod <span class=m>700</span> .ssh
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 1. 创建目录并设置权限</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.ssh
</span></span><span class=line><span class=cl>chmod <span class=m>700</span> ~/.ssh
</span></span></code></pre></td></tr></table></div></div><p>新建authorized_keys</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>touch .ssh/authorized_keys <span class=o>&amp;&amp;</span> chmod <span class=m>600</span> .ssh/authorized_keys
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 2. 创建 authorized_keys</span>
</span></span><span class=line><span class=cl>touch ~/.ssh/authorized_keys
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> ~/.ssh/authorized_keys
</span></span><span class=line><span class=cl><span class=c1># 3. 验证</span>
</span></span><span class=line><span class=cl>ls -la ~/.ssh
</span></span><span class=line><span class=cl><span class=c1># 4. 如果需要，修复家目录权限</span>
</span></span><span class=line><span class=cl>chmod <span class=m>755</span> ~
</span></span><span class=line><span class=cl>sudo chown -R tk:tk ~
</span></span></code></pre></td></tr></table></div></div><p>查看repo的用户信息</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config -l
</span></span></code></pre></td></tr></table></div></div><p>本地查看是否在.ssh下有公钥私钥，如果没有需要创建：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ssh-keygen
</span></span></code></pre></td></tr></table></div></div><p>将刚刚id_rsa.pub公钥中的内容，复制粘贴到文件里，保存退出。（注意这里是输入i编辑，esc退出编辑模式，:wq保存）</p><h2 id=git仓库配置>git仓库配置</h2><p>退出用户登录</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>exit</span>
</span></span></code></pre></td></tr></table></div></div><p>此时应该是root用户，创建git目录，并修改目录的所有权和用户权限</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkdir /home/git/
</span></span><span class=line><span class=cl>chown -R tk:tk /home/git/
</span></span><span class=line><span class=cl>chmod -R <span class=m>755</span> /home/git/
</span></span></code></pre></td></tr></table></div></div><p>进入目录，建立git仓库，修改权限</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span> /home/git/
</span></span><span class=line><span class=cl>git init --bare blog.git
</span></span><span class=line><span class=cl>chown tk:tk -R blog.git
</span></span></code></pre></td></tr></table></div></div><p>报错：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git config --global init.defaultBranch master
</span></span></code></pre></td></tr></table></div></div><p>新建钩子文件 post-receive</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>vim /home/git/blog.git/hooks/post-receive
</span></span></code></pre></td></tr></table></div></div><p>进入文本编辑器，粘贴下面两行。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>git --work-tree<span class=o>=</span>/home/blog --git-dir<span class=o>=</span>/home/git/blog.git checkout -f
</span></span></code></pre></td></tr></table></div></div><p>保存退出。然后修改文件权限</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>chmod +x /home/git/blog.git/hooks/post-receive
</span></span></code></pre></td></tr></table></div></div><h2 id=nginx配置>nginx配置</h2><p>首先创建blog目录用户nginx转发</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkdir /home/blog/
</span></span><span class=line><span class=cl>chown -R tk:tk /home/blog/
</span></span><span class=line><span class=cl>chmod -R <span class=m>755</span> /home/blog/
</span></span></code></pre></td></tr></table></div></div><p>1 第一种方法安装nginx</p><p>两种方法任选其一，如果yum安装成功就不用第二种。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>yum install -y nginx
</span></span></code></pre></td></tr></table></div></div><p>启动nginx</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl start nginx.service
</span></span></code></pre></td></tr></table></div></div><p>查看nginx服务状态，绿色的active说明启动成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl status nginx.service
</span></span></code></pre></td></tr></table></div></div><h2 id=第二种方法安装nginx>第二种方法安装nginx</h2><p>针对yum无法安装的情况，这里介绍第二种方法，源码安装。</p><p>回到家目录</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span>
</span></span></code></pre></td></tr></table></div></div><p>下载安装包，鉴于下载地址的时效性，附上</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>wget</span> <span class=n>http</span><span class=p>:</span><span class=o>//</span><span class=n>nginx</span><span class=o>.</span><span class=n>org</span><span class=o>/</span><span class=n>download</span><span class=o>/</span><span class=n>nginx</span><span class=o>-</span><span class=mf>1.21</span><span class=o>.</span><span class=mf>4.</span><span class=n>tar</span><span class=o>.</span><span class=n>gz</span>
</span></span></code></pre></td></tr></table></div></div><p>解压</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>tar -zxf nginx-1.21.4.tar.gz
</span></span></code></pre></td></tr></table></div></div><p>进入目录，编译安装</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cd nginx-1.21.4
</span></span><span class=line><span class=cl>./configure
</span></span><span class=line><span class=cl>make install prefix=/usr/local/nginx
</span></span></code></pre></td></tr></table></div></div><p>配置nginx环境变量，并使环境变量生效</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>echo</span> <span class=s1>&#39;export PATH=$PATH:/usr/local/nginx/sbin&#39;</span> <span class=o>&gt;&gt;</span> <span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>bashrc</span>
</span></span><span class=line><span class=cl><span class=n>source</span> <span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>bashrc</span>
</span></span></code></pre></td></tr></table></div></div><p>查看nginx版本号</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>nginx -v
</span></span></code></pre></td></tr></table></div></div><p>配置Systemd服务</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>vim /lib/systemd/system/nginx.service
</span></span></code></pre></td></tr></table></div></div><p>在文本编辑器中粘贴以下内容：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>[</span><span class=n>Unit</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Description</span><span class=o>=</span><span class=n>nginx</span>
</span></span><span class=line><span class=cl><span class=n>After</span><span class=o>=</span><span class=n>network</span><span class=o>.</span><span class=n>target</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>Service</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>Type</span><span class=o>=</span><span class=n>forking</span>
</span></span><span class=line><span class=cl><span class=n>ExecStart</span><span class=o>=/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=n>nginx</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nginx</span>
</span></span><span class=line><span class=cl><span class=n>ExecReload</span><span class=o>=/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=n>nginx</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nginx</span> <span class=o>-</span><span class=n>s</span> <span class=n>reload</span>
</span></span><span class=line><span class=cl><span class=n>ExecStop</span><span class=o>=/</span><span class=n>usr</span><span class=o>/</span><span class=n>local</span><span class=o>/</span><span class=n>nginx</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nginx</span> <span class=o>-</span><span class=n>s</span> <span class=n>quit</span>
</span></span><span class=line><span class=cl><span class=n>PrivateTmp</span><span class=o>=</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>Install</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>WantedBy</span><span class=o>=</span><span class=n>multi</span><span class=o>-</span><span class=n>user</span><span class=o>.</span><span class=n>target</span>
</span></span></code></pre></td></tr></table></div></div><p>内容说明：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>[</span><span class=n>Unit</span><span class=p>]:</span><span class=err>服务的说明</span>
</span></span><span class=line><span class=cl><span class=n>Description</span><span class=p>:</span><span class=err>描述服务</span>
</span></span><span class=line><span class=cl><span class=n>After</span><span class=p>:</span><span class=err>描述服务类别</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>Service</span><span class=p>]</span><span class=err>服务运行参数的设置</span>
</span></span><span class=line><span class=cl><span class=n>Type</span><span class=o>=</span><span class=n>forking是后台运行的形式</span>
</span></span><span class=line><span class=cl><span class=n>ExecStart为服务的具体运行命令</span>
</span></span><span class=line><span class=cl><span class=n>ExecReload为重启命令</span>
</span></span><span class=line><span class=cl><span class=n>ExecStop为停止命令</span>
</span></span><span class=line><span class=cl><span class=n>PrivateTmp</span><span class=o>=</span><span class=n>True表示给服务分配独立的临时空间</span>
</span></span><span class=line><span class=cl><span class=err>注意：</span><span class=p>[</span><span class=n>Service</span><span class=p>]</span><span class=err>的启动、重启、停止命令全部要求使用绝对路径</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>Install</span><span class=p>]</span><span class=err>运行级别下服务安装的相关设置，可设置为多用户，即系统运行级别为</span><span class=mi>3</span>
</span></span></code></pre></td></tr></table></div></div><p>设置开机自启动</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl <span class=nb>enable</span> nginx.service
</span></span></code></pre></td></tr></table></div></div><p>重启电脑</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>reboot
</span></span></code></pre></td></tr></table></div></div><p>重启后，查看nginx服务状态，绿色的active说明启动成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl status nginx.service
</span></span></code></pre></td></tr></table></div></div><h2 id=修改nginx转发配置>修改nginx转发配置</h2><p>在浏览器中输入服务器公网ip地址，测试是否能打开。</p><p>查看nginx的默认配置文件的安装位置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>nginx -t
</span></span></code></pre></td></tr></table></div></div><p>修改nginx的默认配置，其中cd后边就是刚刚查到的安装位置，每个人可能都不一样，我这里是/usr/local/nginx/conf/nginx.conf</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>vim /usr/local/nginx/conf/nginx.conf
</span></span></code></pre></td></tr></table></div></div><p>在文本编辑器中找到如下位置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>    listen <span class=m>80</span> default_server<span class=p>;</span>          <span class=c1># 监听IPv4的80端口，设为默认服务</span>
</span></span><span class=line><span class=cl>    listen <span class=o>[</span>::<span class=o>]</span>:80 default_server<span class=p>;</span>     <span class=c1># 监听IPv6的80端口，设为默认服务</span>
</span></span><span class=line><span class=cl>    root /home/blog<span class=p>;</span>                <span class=c1># 网站根目录（需替换为实际路径,修改为创建的blog目录地址）</span>
</span></span><span class=line><span class=cl>    server_name www.example.com<span class=p>;</span>       <span class=c1># 域名（需替换为实际域名或公网IP）</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 加载默认服务块的配置文件</span>
</span></span><span class=line><span class=cl>    include /etc/nginx/default.d/*.conf<span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    location / <span class=o>{</span>                      <span class=c1># 根路径配置（当前为空，需补充）</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    error_page <span class=m>404</span> /404.html<span class=p>;</span>         <span class=c1># 自定义404错误页面</span>
</span></span><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /40x.html <span class=o>{</span>             <span class=c1># 404页面的精确匹配（应与上行路径一致）</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>优化后：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>    listen <span class=m>8888</span> default_server<span class=p>;</span>          <span class=c1># 修改为监听8888端口（IPv4）</span>
</span></span><span class=line><span class=cl>    listen <span class=o>[</span>::<span class=o>]</span>:8888 default_server<span class=p>;</span>     <span class=c1># 修改为监听8888端口（IPv6）</span>
</span></span><span class=line><span class=cl>    server_name www.example.com<span class=p>;</span>       <span class=c1># 改为实际域名或IP</span>
</span></span><span class=line><span class=cl>    root /home/blog<span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    index index.html index.htm<span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 安全响应头</span>
</span></span><span class=line><span class=cl>    add_header X-Frame-Options <span class=s2>&#34;SAMEORIGIN&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    add_header X-Content-Type-Options <span class=s2>&#34;nosniff&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    add_header X-XSS-Protection <span class=s2>&#34;1; mode=block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 静态文件处理</span>
</span></span><span class=line><span class=cl>    location / <span class=o>{</span>
</span></span><span class=line><span class=cl>        try_files <span class=nv>$uri</span> <span class=nv>$uri</span>/ <span class=o>=</span>404<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 错误页面配置</span>
</span></span><span class=line><span class=cl>    error_page <span class=m>404</span> /404.html<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /404.html <span class=o>{</span>
</span></span><span class=line><span class=cl>        internal<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    error_page <span class=m>500</span> <span class=m>502</span> <span class=m>503</span> <span class=m>504</span> /50x.html<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /50x.html <span class=o>{</span>
</span></span><span class=line><span class=cl>        internal<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 禁止访问隐藏文件</span>
</span></span><span class=line><span class=cl>    location ~ /<span class=se>\.</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        deny all<span class=p>;</span>
</span></span><span class=line><span class=cl>        access_log off<span class=p>;</span>
</span></span><span class=line><span class=cl>        log_not_found off<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># 禁用favicon和robots.txt的日志噪声</span>
</span></span><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /favicon.ico <span class=o>{</span> access_log off<span class=p>;</span> log_not_found off<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=nv>location</span> <span class=o>=</span> /robots.txt  <span class=o>{</span> access_log off<span class=p>;</span> log_not_found off<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-s data-lang=s><span class=line><span class=cl><span class=n>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>listen</span> <span class=m>8888</span> <span class=n>default_server</span><span class=p>;</span>          
</span></span><span class=line><span class=cl>    <span class=n>listen</span> <span class=n>[</span><span class=o>::</span><span class=n>]</span><span class=o>:</span><span class=m>8888</span> <span class=n>default_server</span><span class=p>;</span>     
</span></span><span class=line><span class=cl>    <span class=n>server_name</span> <span class=n>www.example.com</span><span class=p>;</span>  
</span></span><span class=line><span class=cl>    <span class=n>root</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>blog</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>index</span> <span class=n>index.html</span> <span class=n>index.htm</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>add_header</span> <span class=n>X</span><span class=o>-</span><span class=n>Frame</span><span class=o>-</span><span class=n>Options</span> <span class=s>&#34;SAMEORIGIN&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>add_header</span> <span class=n>X</span><span class=o>-</span><span class=n>Content</span><span class=o>-</span><span class=n>Type</span><span class=o>-</span><span class=n>Options</span> <span class=s>&#34;nosniff&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>add_header</span> <span class=n>X</span><span class=o>-</span><span class=n>XSS</span><span class=o>-</span><span class=n>Protection</span> <span class=s>&#34;1; mode=block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>try_files</span> <span class=o>$</span><span class=n>uri</span> <span class=o>$</span><span class=n>uri</span><span class=o>/</span> <span class=o>=</span><span class=m>404</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>error_page</span> <span class=m>404</span> <span class=o>/</span><span class=m>404</span><span class=n>.html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>=</span> <span class=o>/</span><span class=m>404</span><span class=n>.html</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>internal</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl>    <span class=n>error_page</span> <span class=m>500</span> <span class=m>502</span> <span class=m>503</span> <span class=m>504</span> <span class=o>/</span><span class=m>50</span><span class=n>x.html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>=</span> <span class=o>/</span><span class=m>50</span><span class=n>x.html</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>internal</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>~</span> <span class=o>/</span><span class=n>\.</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>deny</span> <span class=n>all</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>access_log</span> <span class=n>off</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>log_not_found</span> <span class=n>off</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>=</span> <span class=o>/</span><span class=n>favicon.ico</span> <span class=p>{</span> <span class=n>access_log</span> <span class=n>off</span><span class=p>;</span> <span class=n>log_not_found</span> <span class=n>off</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>location</span> <span class=o>=</span> <span class=o>/</span><span class=n>robots.txt</span>  <span class=p>{</span> <span class=n>access_log</span> <span class=n>off</span><span class=p>;</span> <span class=n>log_not_found</span> <span class=n>off</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>可以使用反向代理隐藏8888端口</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>server <span class=o>{</span>
</span></span><span class=line><span class=cl>    listen 80<span class=p>;</span>
</span></span><span class=line><span class=cl>    server_name example.com<span class=p>;</span>  <span class=c1># 改为你的域名或IP</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    location / <span class=o>{</span>
</span></span><span class=line><span class=cl>        proxy_pass http://127.0.0.1:88<span class=p>;</span>  <span class=c1># 代理到本机 8888 端口</span>
</span></span><span class=line><span class=cl>        proxy_set_header Host <span class=nv>$host</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header X-Real-IP <span class=nv>$remote_addr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        proxy_set_header X-Forwarded-For <span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>保存退出。重启nginx服务</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>systemctl restart nginx.service
</span></span></code></pre></td></tr></table></div></div><h2 id=在hexo站点配置文件中配置>在hexo站点配置文件中配置</h2><p>打开你本地的hexo博客所在文件，打开站点配置文件_config.yml</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>deploy:
</span></span><span class=line><span class=cl>  type: git
</span></span><span class=line><span class=cl>  repository: tk@100.0.0.100:/home/git/blog.git   #用户名@服务器Ip:git仓库位置
</span></span><span class=line><span class=cl>  branch: master
</span></span></code></pre></td></tr></table></div></div><p>注意：如果云服务器ssh端口不是22，站点配置文件_config.yml具体配置如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 1. 进入项目目录</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> I:<span class=se>\B</span>log<span class=se>\h</span>exo-theme-Fomalhaut-main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. 初始化仓库（如果未初始化）</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. 关联远程仓库（指定SSH端口57）</span>
</span></span><span class=line><span class=cl>git remote add origin ssh://tk@157.82.12.146:57/home/git/blog.git
</span></span><span class=line><span class=cl><span class=c1>#后面可以不用</span>
</span></span><span class=line><span class=cl><span class=c1># 4. 添加文件并提交</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Initial commit&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 5. 首次推送</span>
</span></span><span class=line><span class=cl>git push -u origin master# 如果分支是main则替换为main
</span></span></code></pre></td></tr></table></div></div><p>在本地hexo博客根目录下，打开终端，部署</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>hexo clean
</span></span><span class=line><span class=cl>hexo g
</span></span><span class=line><span class=cl>hexo d
</span></span></code></pre></td></tr></table></div></div><p>如果提示ERROR Deployer not found:git错误，先安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm install hexo-deployer-git --save
</span></span></code></pre></td></tr></table></div></div><h1 id=从远程仓库克隆到本地>从远程仓库克隆到本地</h1><h4 id=1-直接克隆指定端口57>1. <strong>直接克隆（指定端口57）</strong></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>git clone ssh://tk@157.82.12.146:57/home/git/blog.git
</span></span></code></pre></td></tr></table></div></div><h4 id=2-如果克隆失败>2. <strong>如果克隆失败</strong></h4><ul><li><p><strong>检查服务器仓库权限</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ssh -p 57 tk@157.82.12.146 &#34;ls -ld /home/git/blog.git&#34;
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>drwxr-xr-x 7 tk tk 4096 4月 20 13:08 /home/git/blog.git
</span></span></code></pre></td></tr></table></div></div><p>如果权限不足，需修正：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ssh -p 57 tk@157.82.12.146 &#34;chmod -R 755 /home/git/blog.git&#34;
</span></span></code></pre></td></tr></table></div></div></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/github/>Github</a>
<a href=/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/>云服务器</a>
<a href=/tags/hugo/>Hugo</a>
<a href=/tags/hexo/>Hexo</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2025年9月8日 16:20</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/hugo_stack%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/><div class=article-image><img src=/img/a11.jpg loading=lazy data-key data-hash=/img/a11.jpg></div><div class=article-details><h2 class=article-title>Hugo_Stack主题美化</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 © 2022-2024 Tian Kong. All rights reserved.</section><section class=powerby><div class=stats><span>发布了 5 篇文章 | 共 23.8K 字</span>
<span>| </span><span>总访客数: <span id=busuanzi_value_site_uv>Loading</span> | 总访问量: <span id=busuanzi_value_site_pv>Loading</span></span></div><div class=theme-info><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> theme
<b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b>
designed by Jimmy
<span>| </span><a href=https://beian.miit.gov.cn/ target=_blank>黔ICP备2025049100号-1</a></div></section><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script><div id=aplayer></div><script>const musicDir="https://sports0808008.github.io/music/",songs=["任贤齐-伤心太平洋","张韶涵-隐形的翅膀","7喜-丁香花","CMJ-所念皆星河","GalenCrew-Sleepyhead","Yanni-Nightingale","陈瑞-白狐","纯音乐-太极","Candy_Wind-青空","胡歌-逍遥叹","久石让-Summer_PIANO_VER","赵海洋-瞬间的永恒夜色钢琴曲","郎军-祈求","李宗盛-鬼迷心窍","dylanf-卡农(经典钢琴版)","姫神-千年の祈り","周传雄-黄昏"];let audios=[];songs.forEach(e=>{const t=e.split("-");audios.push({name:t[1],artist:t[0],url:musicDir+e+"/song.mp3",cover:musicDir+e+"/cover.jpg",lrc:musicDir+e+"/lyric.lrc"})});const ap=new APlayer({container:document.getElementById("aplayer"),fixed:!0,lrcType:3,audio:audios});window.onbeforeunload=()=>{const e={index:ap.list.index,currentTime:ap.audio.currentTime,paused:ap.paused};localStorage.setItem("playInfo",JSON.stringify(e))},window.onload=()=>{const e=JSON.parse(localStorage.getItem("playInfo"));if(!e)return;ap.list.switch(e.index),setTimeout(()=>{ap.seek(e.currentTime),e.paused||ap.play()},500)}</script></body></html>